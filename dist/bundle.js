!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(global,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";const{exec:r}=n(4),i=n(9).promisify(r);t.exports=i},function(t,e){t.exports=function(t){return String(t).match(/\\?.|^$/g).reduce((t,e)=>('"'===e?t.quote^=1:t.quote||" "!==e?t.a[t.a.length-1]+=e.replace(/\\(.)/,"$1"):t.a.push(""),t),{a:[""]}).a}},function(t,e,n){"use strict";const{execFile:r}=n(4);t.exports=(t,e=[],n)=>new Promise((i,o)=>{r(t,e,(t,e)=>{t?o(t):i(n?n(e):e)})})},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("child_process")},function(t,e,n){"use strict";t.exports={getRandomJobName:()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),findJobLineByName:(t,e)=>new RegExp("^(\\w+)\\s+(\\w+)\\s+(\\d+)\\s+"+t+"\\s+?(\\d+)\\s.+$","gim").exec(e),findJobLineById:(t,e)=>new RegExp("^(\\w+)\\s+(\\w+)\\s+"+t+"\\s+(.+)\\s+?(\\d+)\\s.+$","gim").exec(e)}},function(t,e,n){"use strict";switch(n(7).platform()){case"darwin":case"linux":t.exports={print:n(8),getPrinters:n(10),getDefaultPrinter:n(11),observe:n(12)};break;case"win32":t.exports={print:n(13),getPrinters:n(16),getDefaultPrinter:n(17),observe:n(18)};break;default:!function(){throw new Error("Platform not supported")}()}},function(t,e){t.exports=require("os")},function(t,e,n){"use strict";const r=n(3),i=n(1),o=n(0),{getRandomJobName:s,findJobLineByName:u}=n(5);t.exports=async function(t,e={}){if(!t)throw"No PDF specified";if("string"!=typeof t)throw"Invalid PDF name";if(!r.existsSync(t))throw"No such file";const n=[t],{printer:c,unix:a}=e;if(c&&n.push("-d",c),a){if(!Array.isArray(a))throw"options.unix should be an array";a.map(i).reduce((t,e)=>t.concat(e),[]).forEach(t=>n.push(t))}const p=s();return n.push("-t",p),o("lp "+n.join(" ")).then(()=>o("lpq")).then(t=>{const e=u(p,t);if(null===e)throw new Error(`Could not find the created job with name "${p}"`);return e[3]})}},function(t,e){t.exports=require("util")},function(t,e,n){"use strict";const r=n(0);t.exports=async function(){try{const{stdout:t}=await r("lpstat -lp");return function(t){return t.split(/^printer(.)/gm).filter(t=>""!==t.trim()).map(t=>{const e=t.trim();return{deviceId:e.substr(0,e.indexOf(" ")),name:e.split("\n").slice(1).find(t=>-1!==t.indexOf("Description")).split(":")[1].trim()}})}(t)}catch(t){throw t}}},function(t,e,n){"use strict";const r=n(0);t.exports=async function(){try{const{stdout:t}=await r("lpstat -d"),e=function(t){const e=t.indexOf(":");return-1===e?null:t.substr(e+1).trim()}(t);return e?async function(t){const{stdout:e}=await r("lpstat -lp "+t),n=function(t){return t.split("\n").slice(1).find(t=>-1!==t.indexOf("Description")).split(":")[1].trim()}(e);return{deviceId:t,name:n}}(e):null}catch(t){throw t}}},function(t,e,n){"use strict";const r=n(1),i=n(0),{findJobLineById:o}=n(5);t.exports=(t,e=6e4,n=1e3,s={})=>{if(!t)throw"No jobId specified";if(!Number.isInteger(e)||e<0)throw"Invalid timeout";if(!Number.isInteger(n)||n<0)throw"Invalid delay";const u=[],{printer:c,username:a,hostname:p,unix:f}=s;if(c&&u.push("-P",c),a&&u.push("-U",a),p&&u.push("-h",p),f){if(!Array.isArray(f))throw"options.unix should be an array";f.map(r).reduce((t,e)=>t.concat(e),[]).forEach(t=>u.push(t))}let l,d,m=new Date;return new Promise((r,s)=>{d=setInterval(()=>{l=(new Date).getTime()-m.getTime(),i("lpq",u).then(n=>{if(null===o(t,n))return r("completed"),void clearInterval(d);l>=e&&(r("outdated"),clearInterval(d))}).catch(t=>s(t))},n)})}},function(t,e,n){"use strict";const r=n(14),i=n(3),o=n(1),s=n(2),{fixPathForAsarUnpack:u}=n(15),c=["-print-to","-print-to-default","-print-dialog"];t.exports=(t,e={})=>{if(!t)throw"No PDF specified";if("string"!=typeof t)throw"Invalid PDF name";if(!i.existsSync(t))throw"No such file";let n=e.sumatraPdfPath||r.join(__dirname,"SumatraPDF.exe");e.sumatraPdfPath||(n=u(n));const a=[],{printer:p,win32:f}=e;if(f){if(!Array.isArray(f))throw"options.win32 should be an array";f.map(o).reduce((t,e)=>t.concat(e),[]).forEach(t=>a.push(t))}let l=!1;return a.some(t=>!!(c.indexOf(t)>-1)&&(l=!0,!0)),l||(p?a.push("-print-to",p):a.push("-print-to-default"),a.push("-silent")),a.push(t),s(n,a)}},function(t,e){t.exports=require("path")},function(t,e,n){"use strict";const r="electron"in process.versions&&process.mainModule&&process.mainModule.filename.includes("app.asar");e.fixPathForAsarUnpack=t=>r?t.replace("app.asar","app.asar.unpacked"):t},function(t,e,n){"use strict";const r=n(2);t.exports=()=>r("wmic",["printer","get","deviceid,name"],t=>{const e=t.trim().split(/[\r\n]+/).map(t=>t.trim().split(/\s{2,}/)),n=e[0].reduce((t,e,n)=>(t[e]=n,t),{});return e.slice(1).map(t=>({deviceId:t[n.DeviceID],name:t[n.Name]}))})},function(t,e,n){"use strict";const r=n(2);t.exports=()=>r("wmic",["printer","get","default,deviceid,name"],t=>{const e=t.trim().split(/[\r\n]+/).map(t=>t.trim().split(/\s{2,}/)),n=e[0].reduce((t,e,n)=>(t[e]=n,t),{}),r=e.slice(1).find(t=>"TRUE"===t[n.Default]);return!!r&&{deviceId:r[n.DeviceID],name:r[n.Name]}})},function(t,e,n){"use strict";t.exports=(t,e=6e4,n=1e3,r={})=>{throw new Error("The method is not yet implemented for win32")}}])}));